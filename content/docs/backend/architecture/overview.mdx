---
title: Backend Architecture Overview
description: Overview of the INBO backend architecture and core services
---

# Backend Architecture Overview

## Introduction

The INBO backend is a Django-based REST API that powers a newsletter discovery, subscription, and reading platform. The system consists of multiple integrated services working together to provide personalized newsletter experiences.

## Core Services

### 1. Search Engine
Full-text search across newsletters, emails, and posts using Bonsai.io (Elasticsearch-as-a-Service).

**Key Features**:
- Unified search across all content types
- User-scoped search for emails and posts
- Redis caching (60-80% hit rate)
- Auto-indexing via Django signals

**Documentation**: [Search Engine Architecture](/docs/backend/architecture/search-engine)

### 2. Recommendation Engine
Personalized newsletter recommendations based on user behavior and preferences.

**Key Features**:
- Hybrid scoring algorithm (personalization + popularity + freshness)
- Event-based learning from user interactions
- Feature store for user and item features
- Async processing via Celery

**Documentation**: [Recommendation Engine Architecture](/docs/backend/architecture/recommendation-engine)

### 3. Newsletter Profile with Publication History
Manages user newsletter subscriptions and fetches publication history from sitemaps.

**Key Features**:
- Newsletter subscription management
- Automatic post fetching from sitemaps
- Reading progress tracking
- Integration with search and recommendations

**Documentation**: [Newsletter Profile Architecture](/docs/backend/architecture/newsletter-profile)

### 4. Experience App
UI personalization engine that orchestrates every page, section, and component.

**Key Features**:
- Personalized experience generation for every page
- Real-time state management in Redis
- Section scoring and ranking
- Diversity and fatigue control
- Feedback loop to Recommendation Engine

**Documentation**: [Experience App Architecture](/docs/backend/architecture/experience-app)

## Service Integration

The four core services are tightly integrated with a continuous feedback loop:

**Forward Flow**:
- **Newsletter Profile → Search**: Posts auto-indexed for search
- **Newsletter Profile → Recommendation**: Preferences feed personalization
- **Recommendation → Experience**: Recommendations populate experience sections
- **Search ↔ Recommendation**: Search behavior influences recommendations

**Feedback Loop**:
- **Experience → Recommendation**: Interactions update recommendation rankings
- **Experience → Recommendation**: User behavior improves personalization
- **Experience → Recommendation**: Real-time state feeds feature updates

**Documentation**: [Service Integration Architecture](/docs/backend/architecture/service-integration)

## Technology Stack

### Backend Framework
- **Django 5.0.6**: Web framework
- **Django REST Framework**: REST API framework
- **PostgreSQL**: Primary database
- **Redis**: Caching and Celery message broker

### Search Infrastructure
- **Bonsai.io**: Elasticsearch-as-a-Service
- **opensearch-py**: OpenSearch client library
- **django-elasticsearch-dsl**: Django-Elasticsearch integration

### Background Processing
- **Celery**: Distributed task queue
- **Redis**: Message broker
- **Celery Beat**: Periodic task scheduler

### External Services
- **Stripe**: Payment processing
- **Firebase Admin**: Push notifications
- **Azure Blob Storage**: File storage
- **OpenAI**: AI features
- **Gmail API**: Email integration

## Architecture Principles

### 1. Service-Oriented Architecture
- Business logic encapsulated in service classes
- Clear separation of concerns
- Reusable service methods

### 2. Async-First Design
- Non-blocking operations via Celery
- Background processing for heavy operations
- Real-time where needed, async where possible

### 3. Graceful Degradation
- Services work independently
- Fallbacks for external service failures
- Database fallback for search

### 4. Performance Optimization
- Redis caching for frequently accessed data
- Database query optimization
- Indexed models for fast lookups

## Quick Links

- [Search Engine Architecture](/docs/backend/architecture/search-engine)
- [Recommendation Engine Architecture](/docs/backend/architecture/recommendation-engine)
- [Newsletter Profile Architecture](/docs/backend/architecture/newsletter-profile)
- [Experience App Architecture](/docs/backend/architecture/experience-app)
- [Service Integration](/docs/backend/architecture/service-integration)
- [API Documentation](/docs/backend/api/overview)
- [Models Documentation](/docs/backend/models/overview)
